version: '3.5'

services:
  
    # networks:
    #   - site_rabbitmq


  platform_queues:
    volumes:
      - ./:/src/
    env_file:
      - .env
    build: platform
    entrypoint: [ "python", "queues.py"]
    restart: always
    # networks:
    #   - site_rabbitmq

  rabbitmq:
    image: rabbitmq:3.10
    container_name: 'rabbitmq'
    # volumes:
    #     - ~/.docker-conf/rabbitmq/data/:/var/lib/rabbitmq/
    #     - ~/.docker-conf/rabbitmq/log/:/var/log/rabbitmq
    # networks:
    #   - site_rabbitmq



  # db:
  #   image: nouchka/sqlite3:latest
  #   ports:
  #     - 9000:9000
  #   volumes:
  #     - ./:/root/db/
  #   stdin_open: true
  #   tty: true
  #   restart: always


# TODO: configure networks


# networks:
#   site_rabbitmq:
#     external: true